{"version":3,"file":"useDefaultProps.js","sources":["../../../src/hooks/useDefaultProps.ts"],"sourcesContent":["import { useMemo } from \"react\";\n\nimport { useCss } from \"./useCss\";\nimport { useTheme } from \"./useTheme\";\n\n/** Filter out `undefined` entries from `props` object. */\nfunction filterProps(props: Record<string, any>) {\n  return Object.keys(props).reduce<typeof props>((acc, key) => {\n    if (props[key] !== undefined) {\n      acc[key] = props[key];\n    }\n    return acc;\n  }, {});\n}\n\n/** Injects into `props` the props defined in the theme `componentName`. */\nexport function useDefaultProps<T extends Record<string, any>>(\n  /** Name of the theme component key to inject defaultProps */\n  componentName: string, // keyof HvThemeComponents,\n  props: T,\n): T {\n  const { activeTheme } = useTheme();\n  const { css, cx } = useCss();\n\n  const themeDefaultProps = activeTheme?.components?.[componentName];\n\n  const classes = useMemo(() => {\n    const themeClasses = themeDefaultProps?.classes || {};\n    const propsClasses = props?.classes || {};\n    const classKeys = [\n      ...Object.keys(themeClasses),\n      ...Object.keys(propsClasses),\n    ];\n    return classKeys.reduce<Record<string, string>>((acc, key) => {\n      acc[key] = cx(\n        themeClasses[key] && css(themeClasses[key]),\n        propsClasses[key],\n      );\n      return acc;\n    }, {});\n  }, [css, cx, props?.classes, themeDefaultProps?.classes]);\n\n  return {\n    ...themeDefaultProps,\n    ...filterProps(props),\n    ...(classes ? { classes } : {}),\n  };\n}\n"],"names":[],"mappings":";;;AAMA,SAAS,YAAY,OAA4B;AAC/C,SAAO,OAAO,KAAK,KAAK,EAAE,OAAqB,CAAC,KAAK,QAAQ;AACvD,QAAA,MAAM,GAAG,MAAM,QAAW;AACxB,UAAA,GAAG,IAAI,MAAM,GAAG;AAAA,IAAA;AAEf,WAAA;AAAA,EACT,GAAG,EAAE;AACP;AAGgB,SAAA,gBAEd,eACA,OACG;AACG,QAAA,EAAE,YAAY,IAAI,SAAS;AACjC,QAAM,EAAE,KAAK,GAAG,IAAI,OAAO;AAErB,QAAA,oBAAoB,aAAa,aAAa,aAAa;AAE3D,QAAA,UAAU,QAAQ,MAAM;AACtB,UAAA,eAAe,mBAAmB,WAAW,CAAC;AAC9C,UAAA,eAAe,OAAO,WAAW,CAAC;AACxC,UAAM,YAAY;AAAA,MAChB,GAAG,OAAO,KAAK,YAAY;AAAA,MAC3B,GAAG,OAAO,KAAK,YAAY;AAAA,IAC7B;AACA,WAAO,UAAU,OAA+B,CAAC,KAAK,QAAQ;AAC5D,UAAI,GAAG,IAAI;AAAA,QACT,aAAa,GAAG,KAAK,IAAI,aAAa,GAAG,CAAC;AAAA,QAC1C,aAAa,GAAG;AAAA,MAClB;AACO,aAAA;AAAA,IACT,GAAG,EAAE;AAAA,EAAA,GACJ,CAAC,KAAK,IAAI,OAAO,SAAS,mBAAmB,OAAO,CAAC;AAEjD,SAAA;AAAA,IACL,GAAG;AAAA,IACH,GAAG,YAAY,KAAK;AAAA,IACpB,GAAI,UAAU,EAAE,YAAY,CAAA;AAAA,EAC9B;AACF;"}