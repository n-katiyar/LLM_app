{"version":3,"file":"theme.mjs","sources":["../../src/theme.ts"],"sourcesContent":["import * as tokens from \"./tokens\";\nimport type { HvColor, HvColorAny } from \"./tokens\";\nimport { palette } from \"./tokens/colorsPalette\";\nimport {\n  DeepString,\n  HvThemeComponents,\n  HvThemeTypography,\n  HvThemeTypographyProps,\n  HvThemeVars,\n  SpacingValue,\n} from \"./types\";\nimport {\n  hasMultipleArgs,\n  mapCSSVars,\n  spacingUtil,\n  spacingUtilOld,\n} from \"./utils\";\n\nconst componentsSpec: DeepString<HvThemeComponents> = {\n  header: {\n    height: \"string\",\n    secondLevelHeight: \"string\",\n  },\n  bulkActions: {\n    actionButtonVariant: \"string\",\n  },\n  table: {\n    rowStripedBackgroundColorEven: \"string\",\n    rowStripedBackgroundColorOdd: \"string\",\n    rowExpandBackgroundColor: \"string\",\n    rowSortedColor: \"string\",\n    rowSortedColorAlpha: \"string\",\n  },\n  stepNavigation: {\n    separatorMargin: \"string\",\n    defaultSeparatorHeight: \"string\",\n    simpleSeparatorHeight: \"string\",\n  },\n  filterGroup: {\n    applyButtonVariant: \"string\",\n    cancelButtonVariant: \"string\",\n  },\n  scrollTo: {\n    dotSelectedSize: \"string\",\n    backgroundColorOpacity: \"string\",\n  },\n  colorPicker: {\n    hueDirection: \"string\",\n  },\n  snackbar: {\n    actionButtonVariant: \"string\",\n  },\n};\n\nconst typographyProps: DeepString<HvThemeTypographyProps> = {\n  color: \"string\",\n  fontSize: \"string\",\n  letterSpacing: \"string\",\n  lineHeight: \"string\",\n  fontWeight: \"string\",\n  textDecoration: \"string\",\n};\n\nconst typographySpec: DeepString<HvThemeTypography> = {\n  typography: {\n    // DS5\n    display: { ...typographyProps },\n    title1: { ...typographyProps },\n    title2: { ...typographyProps },\n    title3: { ...typographyProps },\n    title4: { ...typographyProps },\n    label: { ...typographyProps },\n    body: { ...typographyProps },\n    captionLabel: { ...typographyProps },\n    caption1: { ...typographyProps },\n    caption2: { ...typographyProps },\n    // LEGACY UNMAPPABLE (DS3)\n    \"5xlTitle\": { ...typographyProps },\n    \"4xlTitle\": { ...typographyProps },\n    xxlTitle: { ...typographyProps },\n    lTitle: { ...typographyProps },\n    sTitle: { ...typographyProps },\n    xxsTitle: { ...typographyProps },\n    sectionTitle: { ...typographyProps },\n    placeholderText: { ...typographyProps },\n    link: { ...typographyProps },\n    disabledText: { ...typographyProps },\n    selectedNavText: { ...typographyProps },\n    vizTextDisabled: { ...typographyProps },\n    xsInlineLink: { ...typographyProps },\n  },\n};\n\nconst colorTokens = {\n  ...tokens.colors.common,\n  ...tokens.colors.light,\n};\n\nconst themeVars: HvThemeVars = mapCSSVars({\n  ...tokens,\n  colors: {\n    type: \"light\",\n    ...colorTokens,\n  }, // Flatten colors and add background color\n  ...componentsSpec,\n  ...typographySpec,\n});\n\nfunction getColorOrFallback(color?: HvColorAny) {\n  return themeVars.colors[color as HvColor] || color;\n}\n\n/** Get a `color` from the theme palette, or `fallbackColor` if not found */\nexport function getColor(color?: HvColorAny, fallbackColor?: HvColorAny) {\n  return getColorOrFallback(color) || getColorOrFallback(fallbackColor);\n}\n\n/**\n * Utility function to generate spacing values from the theme.\n *\n * @example\n * theme.spacing(2) // 16px (2*8px)\n * theme.spacing(\"md\", \"inherit\", \"42px\") // 24px inherit 42px\n */\nconst spacing = (...args: [SpacingValue[]] | SpacingValue[]) => {\n  if (hasMultipleArgs(args)) {\n    return args.map((arg) => spacingUtil(arg, themeVars)).join(\" \");\n  }\n\n  const [value] = args;\n\n  switch (typeof value) {\n    case \"number\":\n    case \"string\":\n      return spacingUtil(value, themeVars);\n    // TODO: remove in v6\n    case \"object\":\n      return value && value.length > 0\n        ? value.map((val) => spacingUtilOld(val, themeVars)).join(\" \")\n        : \"0px\";\n    default:\n      return \"0px\";\n  }\n};\n\n/**\n * Utility function to mix two colors. Accepts theme and CSS colors.\n *\n * @example\n * theme.mix(\"atmo1\", 0.7) // 70% atmo1, 30% transparent\n * theme.mix(\"cat1\", \"60%\", \"orange\") // 60% cat1, 30% orange\n */\nconst mix = (\n  color1: HvColorAny,\n  factor: string | number,\n  color2: HvColorAny = \"transparent\",\n) => {\n  const percent = typeof factor === \"number\" ? `${factor * 100}%` : factor;\n  return `color-mix(in srgb, ${getColor(color1)} ${percent}, ${getColor(color2)})`;\n};\n\n/**\n * Utility function to apply an alpha channel to a color from the theme.\n *\n * @example\n * theme.alpha(\"warning\", 0.5) // rgb( R G B / 0.5)\n */\nconst alpha = (color: HvColorAny, factor: number | string) =>\n  mix(color, factor);\n\n/**\n * UI Kit static theme object, containing values and utility functions that leverage the injected CSS variables.\n * @returns string values that can be used as CSS values.\n * @example\n * theme.colors.brand // \"var(--uikit-colors-brand)\"\n * theme.spacing(\"xs\", \"sm\") // \"var(--uikit-space-xs) var(--uikit-space-sm)\"\n */\nexport const theme = {\n  ...themeVars,\n  palette,\n  spacing,\n  alpha,\n};\n\nexport type HvTheme = typeof theme;\n"],"names":["tokens.colors","tokens"],"mappings":"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"}