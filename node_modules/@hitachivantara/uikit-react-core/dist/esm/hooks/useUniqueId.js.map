{"version":3,"file":"useUniqueId.js","sources":["../../../src/hooks/useUniqueId.ts"],"sourcesContent":["import * as React from \"react\"; // this can be optimized when react 17 support is dropped\n\nimport { useEnhancedEffect } from \"./useEnhancedEffect\";\n\n/** Credit: https://github.com/radix-ui/primitives/blob/main/packages/react/id/src/id.tsx\n *  Modified slightly to suit our purposes.\n */\n// We `toString()` to prevent bundlers from trying to `import { useId } from 'react';`\nconst useReactId = (React as any)[\"useId\".toString()] || (() => undefined);\nlet count = 0;\n\nexport const useUniqueId = (\n  deterministicId?: string,\n  /**\n   * @deprecated\n   * Users should pick between a fully deterministic or fully generated id\n   * @example\n   * useUniqueId(setId(idPrefix, deterministicId))\n   * */\n  idPrefix?: string,\n): string => {\n  const [id, setId] = React.useState<string | undefined>(useReactId());\n\n  useEnhancedEffect(() => {\n    // eslint-disable-next-line no-plusplus\n    if (!deterministicId) setId((reactId) => reactId ?? String(count++));\n  }, [deterministicId, idPrefix]);\n\n  return deterministicId || (idPrefix ? idPrefix + id : (id ?? \"\"));\n};\n"],"names":[],"mappings":";;AAQA,MAAM,aAAc,MAAc,QAAQ,SAAS,CAAC,MAAM,MAAM;AAChE,IAAI,QAAQ;AAEC,MAAA,cAAc,CACzB,iBAOA,aACW;AACX,QAAM,CAAC,IAAI,KAAK,IAAI,MAAM,SAA6B,YAAY;AAEnE,oBAAkB,MAAM;AAElB,QAAA,CAAC,gBAAuB,OAAA,CAAC,YAAY,WAAW,OAAO,OAAO,CAAC;AAAA,EAAA,GAClE,CAAC,iBAAiB,QAAQ,CAAC;AAE9B,SAAO,oBAAoB,WAAW,WAAW,KAAM,MAAM;AAC/D;"}