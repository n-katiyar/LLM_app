{"version":3,"file":"useHvSortBy.js","sources":["../../../../src/Table/hooks/useHvSortBy.ts"],"sourcesContent":["import { ensurePluginOrder, Hooks } from \"react-table\";\n\n// #region ##### TYPES #####\n\n// getHeaderProps:\nexport interface UseHvSortByColumnProps {\n  sortable?: boolean;\n  sorted?: boolean;\n  sortDirection?: \"descending\" | \"ascending\";\n  onClick?: (e: React.MouseEvent<HTMLTableCellElement>) => void;\n}\n\n// getCellProps:\nexport interface UseHvSortByTableCellProps {\n  sorted?: boolean;\n}\n\nexport type UseHvSortByProps = (<D extends object = Record<string, unknown>>(\n  hooks: Hooks<D>,\n) => void) & { pluginName: string };\n\n// #endregion ##### TYPES #####\n\n// props target: <table><thead><tr><th>\nconst getHeaderPropsHook = (props: any, { instance, column }: any) => {\n  const { isMultiSortEvent = (e: any) => e.shiftKey } = instance;\n\n  const sortDirection = column.isSortedDesc ? \"descending\" : \"ascending\";\n\n  const nextProps: UseHvSortByColumnProps = {\n    sortable: column.canSort,\n    sorted: column.isSorted,\n    sortDirection: column.isSorted ? sortDirection : undefined,\n\n    onClick: column.canSort\n      ? (e) => {\n          e.persist();\n          column.toggleSortBy(\n            undefined,\n            !instance.disableMultiSort && isMultiSortEvent(e),\n          );\n        }\n      : undefined,\n  };\n\n  return [props, nextProps];\n};\n\n// props target: <table><tbody><tr><td>\nconst getCellPropsHook = (props: any, { cell }: any) => {\n  const nextProps: UseHvSortByTableCellProps = {\n    sorted: cell.column.isSorted,\n  };\n\n  return [props, nextProps];\n};\n\nconst useInstanceHook = (instance: any) => {\n  ensurePluginOrder(instance.plugins, [\"useSortBy\"], \"useHvSortBy\");\n};\n\nexport const useHvSortBy: UseHvSortByProps = (hooks) => {\n  // props target: <table><thead><tr><th>\n  hooks.getHeaderProps.push(getHeaderPropsHook);\n  // props target: <table><tbody><tr><td>\n  hooks.getCellProps.push(getCellPropsHook);\n\n  hooks.useInstance.push(useInstanceHook);\n};\n\nuseHvSortBy.pluginName = \"useHvSortBy\";\n"],"names":[],"mappings":";AAwBA,MAAM,qBAAqB,CAAC,OAAY,EAAE,UAAU,aAAkB;AACpE,QAAM,EAAE,mBAAmB,CAAC,MAAW,EAAE,SAAa,IAAA;AAEhD,QAAA,gBAAgB,OAAO,eAAe,eAAe;AAE3D,QAAM,YAAoC;AAAA,IACxC,UAAU,OAAO;AAAA,IACjB,QAAQ,OAAO;AAAA,IACf,eAAe,OAAO,WAAW,gBAAgB;AAAA,IAEjD,SAAS,OAAO,UACZ,CAAC,MAAM;AACL,QAAE,QAAQ;AACH,aAAA;AAAA,QACL;AAAA,QACA,CAAC,SAAS,oBAAoB,iBAAiB,CAAC;AAAA,MAClD;AAAA,IAAA,IAEF;AAAA,EACN;AAEO,SAAA,CAAC,OAAO,SAAS;AAC1B;AAGA,MAAM,mBAAmB,CAAC,OAAY,EAAE,WAAgB;AACtD,QAAM,YAAuC;AAAA,IAC3C,QAAQ,KAAK,OAAO;AAAA,EACtB;AAEO,SAAA,CAAC,OAAO,SAAS;AAC1B;AAEA,MAAM,kBAAkB,CAAC,aAAkB;AACzC,oBAAkB,SAAS,SAAS,CAAC,WAAW,GAAG,aAAa;AAClE;AAEa,MAAA,cAAgC,CAAC,UAAU;AAEhD,QAAA,eAAe,KAAK,kBAAkB;AAEtC,QAAA,aAAa,KAAK,gBAAgB;AAElC,QAAA,YAAY,KAAK,eAAe;AACxC;AAEA,YAAY,aAAa;"}