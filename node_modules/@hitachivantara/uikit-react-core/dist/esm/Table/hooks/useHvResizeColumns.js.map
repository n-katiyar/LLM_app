{"version":3,"file":"useHvResizeColumns.js","sources":["../../../../src/Table/hooks/useHvResizeColumns.ts"],"sourcesContent":["import { ensurePluginOrder, Hooks } from \"react-table\";\n\n// #region ##### TYPES #####\n\n// getHeaderProps:\nexport interface UseHvResizeColumnProps {\n  resizable?: boolean;\n  resizing?: boolean;\n  resizerProps?: React.HTMLAttributes<HTMLDivElement>;\n}\n\n// getCellProps:\nexport interface UseHvResizeTableCellProps {\n  resizable?: boolean;\n  resizing?: boolean;\n}\n\nexport type UseHvResizeColumnsProps = (<\n  D extends object = Record<string, unknown>,\n>(\n  hooks: Hooks<D>,\n) => void) & { pluginName: string };\n\n// #endregion ##### TYPES #####\n\n// props target: <table><thead><tr><th>\nconst getHeaderPropsHook = (props: any, { column }: any) => {\n  const resizerProps: NonNullable<UseHvResizeColumnProps[\"resizerProps\"]> =\n    column.getResizerProps?.() || {};\n\n  resizerProps.onClick = (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n  };\n\n  const nextProps = {\n    resizable: column.canResize,\n    resizing: column.isResizing,\n    resizerProps,\n  };\n\n  return [props, nextProps];\n};\n\n// props target: <table><tbody><tr><td>\nconst getCellPropsHook = (props: any, { cell }: any) => {\n  const nextProps: UseHvResizeTableCellProps = {\n    resizable: cell.column.canResize,\n    resizing: cell.column.isResizing,\n  };\n\n  return [props, nextProps];\n};\n\nconst useInstanceHook = (instance: any) => {\n  ensurePluginOrder(\n    instance.plugins,\n    [\"useResizeColumns\"],\n    \"useHvResizeColumns\",\n  );\n};\n\nexport const useHvResizeColumns: UseHvResizeColumnsProps = (hooks) => {\n  // props target: <table><thead><tr><th>\n  hooks.getHeaderProps.push(getHeaderPropsHook);\n  // props target: <table><tbody><tr><td>\n  hooks.getCellProps.push(getCellPropsHook);\n\n  hooks.useInstance.push(useInstanceHook);\n};\n\nuseHvResizeColumns.pluginName = \"useHvResizeColumns\";\n"],"names":[],"mappings":";AA0BA,MAAM,qBAAqB,CAAC,OAAY,EAAE,aAAkB;AAC1D,QAAM,eACJ,OAAO,kBAAkB,KAAK,CAAC;AAEpB,eAAA,UAAU,CAAC,MAAM;AAC5B,MAAE,eAAe;AACjB,MAAE,gBAAgB;AAAA,EACpB;AAEA,QAAM,YAAY;AAAA,IAChB,WAAW,OAAO;AAAA,IAClB,UAAU,OAAO;AAAA,IACjB;AAAA,EACF;AAEO,SAAA,CAAC,OAAO,SAAS;AAC1B;AAGA,MAAM,mBAAmB,CAAC,OAAY,EAAE,WAAgB;AACtD,QAAM,YAAuC;AAAA,IAC3C,WAAW,KAAK,OAAO;AAAA,IACvB,UAAU,KAAK,OAAO;AAAA,EACxB;AAEO,SAAA,CAAC,OAAO,SAAS;AAC1B;AAEA,MAAM,kBAAkB,CAAC,aAAkB;AACzC;AAAA,IACE,SAAS;AAAA,IACT,CAAC,kBAAkB;AAAA,IACnB;AAAA,EACF;AACF;AAEa,MAAA,qBAA8C,CAAC,UAAU;AAE9D,QAAA,eAAe,KAAK,kBAAkB;AAEtC,QAAA,aAAa,KAAK,gBAAgB;AAElC,QAAA,YAAY,KAAK,eAAe;AACxC;AAEA,mBAAmB,aAAa;"}