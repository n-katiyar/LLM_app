{"version":3,"file":"useHvPagination.js","sources":["../../../../src/Table/hooks/useHvPagination.ts"],"sourcesContent":["import {\n  ensurePluginOrder,\n  Hooks,\n  makePropGetter,\n  PropGetter,\n  TableCommonProps,\n  useGetLatest,\n} from \"react-table\";\n\n// #region ##### TYPES #####\n\nexport interface HvTablePaginationProps extends TableCommonProps {\n  canPrevious: boolean;\n  canNext: boolean;\n  pages: number;\n  page: number;\n  pageSize: number;\n  onPageChange?: (updater: ((pageIndex: number) => number) | number) => void;\n  onPageSizeChange?: (pageSize: number) => void;\n  labels?: Record<string, string>;\n}\n\nexport type HvPaginationPropGetter<D extends object> = PropGetter<\n  D,\n  HvTablePaginationProps\n>;\n\nexport interface UseHvPaginationHooks<D extends object> {\n  getHvPaginationProps: Array<HvPaginationPropGetter<D>>;\n}\n\nexport interface UseHvPaginationTableInstance<D extends object> {\n  getHvPaginationProps: (\n    propGetter?: HvPaginationPropGetter<D>,\n  ) => HvTablePaginationProps;\n}\n\nexport type UsePaginationProps = (<D extends object = Record<string, unknown>>(\n  hooks: Hooks<D>,\n) => void) & { pluginName: string };\n\n// #endregion ##### TYPES #####\n\nconst useInstanceHook = (instance: any) => {\n  ensurePluginOrder(\n    instance.plugins,\n    [\n      \"usePagination\",\n      \"useHvGlobalFilter\",\n      \"useHvFilters\",\n      \"useGroupBy\",\n      \"useHvSortBy\",\n      \"useHvRowExpand\",\n    ],\n    \"useHvPagination\",\n  );\n\n  const getInstance = useGetLatest(instance);\n  const getHvPaginationProps = makePropGetter(\n    instance.getHooks().getHvPaginationProps,\n    {\n      instance: getInstance(),\n    },\n  );\n\n  Object.assign(instance, {\n    getHvPaginationProps,\n  });\n};\n\nexport const defaultGetHvPaginationProps = (props: any, { instance }: any) => {\n  const {\n    canPreviousPage,\n    canNextPage,\n    pageOptions,\n    gotoPage,\n    setPageSize,\n    state: { pageSize, pageIndex },\n    labels,\n  } = instance;\n\n  const nextProps: HvTablePaginationProps = {\n    canPrevious: canPreviousPage,\n    canNext: canNextPage,\n    pages: pageOptions.length,\n    page: pageIndex,\n    pageSize,\n    onPageChange: gotoPage,\n    onPageSizeChange: setPageSize,\n    labels,\n  };\n\n  return [props, nextProps];\n};\n\nexport const useHvPagination: UsePaginationProps = (hooks) => {\n  hooks.getHvPaginationProps = [defaultGetHvPaginationProps];\n\n  hooks.useInstance.push(useInstanceHook);\n};\n\nuseHvPagination.pluginName = \"useHvPagination\";\n"],"names":[],"mappings":";AA2CA,MAAM,kBAAkB,CAAC,aAAkB;AACzC;AAAA,IACE,SAAS;AAAA,IACT;AAAA,MACE;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,IACF;AAAA,IACA;AAAA,EACF;AAEM,QAAA,cAAc,aAAa,QAAQ;AACzC,QAAM,uBAAuB;AAAA,IAC3B,SAAS,WAAW;AAAA,IACpB;AAAA,MACE,UAAU,YAAY;AAAA,IAAA;AAAA,EAE1B;AAEA,SAAO,OAAO,UAAU;AAAA,IACtB;AAAA,EAAA,CACD;AACH;AAEO,MAAM,8BAA8B,CAAC,OAAY,EAAE,eAAoB;AACtE,QAAA;AAAA,IACJ;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA,OAAO,EAAE,UAAU,UAAU;AAAA,IAC7B;AAAA,EAAA,IACE;AAEJ,QAAM,YAAoC;AAAA,IACxC,aAAa;AAAA,IACb,SAAS;AAAA,IACT,OAAO,YAAY;AAAA,IACnB,MAAM;AAAA,IACN;AAAA,IACA,cAAc;AAAA,IACd,kBAAkB;AAAA,IAClB;AAAA,EACF;AAEO,SAAA,CAAC,OAAO,SAAS;AAC1B;AAEa,MAAA,kBAAsC,CAAC,UAAU;AACtD,QAAA,uBAAuB,CAAC,2BAA2B;AAEnD,QAAA,YAAY,KAAK,eAAe;AACxC;AAEA,gBAAgB,aAAa;"}