{"version":3,"file":"BaseDropdownPanel.js","sources":["../../../src/BaseDropdown/BaseDropdownPanel.tsx"],"sourcesContent":["import {\n  ClickAwayListener,\n  ClickAwayListenerProps,\n} from \"@mui/base/ClickAwayListener\";\nimport { Portal } from \"@mui/base/Portal\";\nimport { useCss, useTheme } from \"@hitachivantara/uikit-react-utils\";\n\nimport { HvPanel } from \"../Panel\";\nimport { getContainerElement } from \"../utils/document\";\nimport type {\n  HvBaseDropdownClasses,\n  HvBaseDropdownProps,\n} from \"./BaseDropdown\";\nimport { useBaseDropdownContext } from \"./context\";\n\nexport interface BaseDropdownPanelProps\n  extends Pick<\n    HvBaseDropdownProps,\n    \"disablePortal\" | \"onClickOutside\" | \"children\"\n  > {\n  classes: Required<HvBaseDropdownClasses>;\n  containerId?: string;\n  onContainerKeyDown: (event: any) => void;\n  onClickAway: ClickAwayListenerProps[\"onClickAway\"];\n}\n\nexport const BaseDropdownPanel = ({\n  classes,\n  containerId,\n  children,\n  disablePortal,\n  onContainerKeyDown,\n  onClickAway,\n}: BaseDropdownPanelProps) => {\n  const { cx } = useCss();\n  const { popperPlacement, popper, referenceElement, setPopperElement } =\n    useBaseDropdownContext();\n\n  const { rootId } = useTheme();\n\n  const extensionWidth = referenceElement\n    ? referenceElement?.offsetWidth\n    : \"inherit\";\n\n  const container = (\n    // eslint-disable-next-line jsx-a11y/no-static-element-interactions\n    <div\n      ref={setPopperElement}\n      className={classes.container}\n      onKeyDown={onContainerKeyDown}\n      style={popper?.styles.popper}\n      {...popper?.attributes.popper}\n    >\n      {popperPlacement?.includes(\"bottom\") && (\n        <div\n          style={{ width: extensionWidth }}\n          className={cx(classes.inputExtensionOpen, {\n            [classes.inputExtensionLeftPosition]:\n              popperPlacement.includes(\"end\"),\n          })}\n        />\n      )}\n      <HvPanel\n        // TODO: review in v6. `containerId` needs to be on the role element (`children` has it)\n        id={containerId}\n        className={cx(classes.panel, {\n          [classes.panelOpenedUp]: popperPlacement?.includes(\"top\"),\n          [classes.panelOpenedDown]: popperPlacement?.includes(\"bottom\"),\n        })}\n      >\n        {children}\n      </HvPanel>\n      {popperPlacement?.includes(\"top\") && (\n        <div\n          style={{ width: extensionWidth }}\n          className={cx(\n            classes.inputExtensionOpen,\n            classes.inputExtensionOpenShadow,\n            {\n              [classes.inputExtensionFloatRight]:\n                popperPlacement.includes(\"end\"),\n              [classes.inputExtensionFloatLeft]:\n                popperPlacement.includes(\"start\"),\n            },\n          )}\n        />\n      )}\n    </div>\n  );\n\n  return (\n    <Portal\n      container={getContainerElement(rootId)}\n      disablePortal={disablePortal}\n    >\n      <ClickAwayListener onClickAway={onClickAway}>\n        {container}\n      </ClickAwayListener>\n    </Portal>\n  );\n};\n"],"names":[],"mappings":";;;;;;;AA0BO,MAAM,oBAAoB,CAAC;AAAA,EAChC;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACF,MAA8B;AACtB,QAAA,EAAE,GAAG,IAAI,OAAO;AACtB,QAAM,EAAE,iBAAiB,QAAQ,kBAAkB,iBAAA,IACjD,uBAAuB;AAEnB,QAAA,EAAE,OAAO,IAAI,SAAS;AAEtB,QAAA,iBAAiB,mBACnB,kBAAkB,cAClB;AAEE,QAAA;AAAA;AAAA,IAEJ;AAAA,MAAC;AAAA,MAAA;AAAA,QACC,KAAK;AAAA,QACL,WAAW,QAAQ;AAAA,QACnB,WAAW;AAAA,QACX,OAAO,QAAQ,OAAO;AAAA,QACrB,GAAG,QAAQ,WAAW;AAAA,QAEtB,UAAA;AAAA,UAAiB,iBAAA,SAAS,QAAQ,KACjC;AAAA,YAAC;AAAA,YAAA;AAAA,cACC,OAAO,EAAE,OAAO,eAAe;AAAA,cAC/B,WAAW,GAAG,QAAQ,oBAAoB;AAAA,gBACxC,CAAC,QAAQ,0BAA0B,GACjC,gBAAgB,SAAS,KAAK;AAAA,cACjC,CAAA;AAAA,YAAA;AAAA,UACH;AAAA,UAEF;AAAA,YAAC;AAAA,YAAA;AAAA,cAEC,IAAI;AAAA,cACJ,WAAW,GAAG,QAAQ,OAAO;AAAA,gBAC3B,CAAC,QAAQ,aAAa,GAAG,iBAAiB,SAAS,KAAK;AAAA,gBACxD,CAAC,QAAQ,eAAe,GAAG,iBAAiB,SAAS,QAAQ;AAAA,cAAA,CAC9D;AAAA,cAEA;AAAA,YAAA;AAAA,UACH;AAAA,UACC,iBAAiB,SAAS,KAAK,KAC9B;AAAA,YAAC;AAAA,YAAA;AAAA,cACC,OAAO,EAAE,OAAO,eAAe;AAAA,cAC/B,WAAW;AAAA,gBACT,QAAQ;AAAA,gBACR,QAAQ;AAAA,gBACR;AAAA,kBACE,CAAC,QAAQ,wBAAwB,GAC/B,gBAAgB,SAAS,KAAK;AAAA,kBAChC,CAAC,QAAQ,uBAAuB,GAC9B,gBAAgB,SAAS,OAAO;AAAA,gBAAA;AAAA,cACpC;AAAA,YACF;AAAA,UAAA;AAAA,QACF;AAAA,MAAA;AAAA,IAAA;AAAA;AAMJ,SAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,WAAW,oBAAoB,MAAM;AAAA,MACrC;AAAA,MAEA,UAAA,oBAAC,mBAAkB,EAAA,aAChB,UACH,UAAA,CAAA;AAAA,IAAA;AAAA,EACF;AAEJ;"}